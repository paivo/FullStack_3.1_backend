{"version":3,"sources":["components/Person.js","services/persons.js","App.js","index.js"],"names":["Person","person","removePerson","name","number","onClick","baseUrl","axios","get","newObject","post","id","put","delete","Filter","props","value","newFilter","onChange","handleFilterChange","AddPersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","ShowNumbers","personsToShow","map","key","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","errorMessage","setErrorMessage","useEffect","personService","then","response","data","filter","toLowerCase","includes","message","className","event","console","log","target","window","confirm","changedNumber","find","n","changedPerson","pers","changeNumber","setTimeout","preventDefault","personObject","concat","person2","ReactDOM","render","document","getElementById"],"mappings":"uOAaeA,EAXA,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACxB,OACE,6BACGD,EAAOE,KADV,IACiBF,EAAOG,OACtB,4BAAQC,QAAS,kBAAMH,EAAaD,KAApC,Y,gBCLAK,EAAU,eAkBD,EAhBA,WACb,OAAOC,IAAMC,IAAIF,IAeJ,EAZA,SAAAG,GACb,OAAOF,IAAMG,KAAKJ,EAASG,IAWd,EARA,SAACE,EAAIF,GAClB,OAAOF,IAAMK,IAAN,UAAaN,EAAb,YAAwBK,GAAMF,IAOxB,EAJA,SAACE,GACZ,OAAOJ,IAAMM,OAAN,UAAgBP,EAAhB,YAA2BK,KC2GhCG,EAAS,SAACC,GACd,OACE,kDACoB,2BAAOC,MAAOD,EAAME,UAAWC,SAAUH,EAAMI,uBAKjEC,EAAgB,SAACL,GACrB,OACE,6BACE,0BAAMM,SAAUN,EAAMO,WAAtB,QACO,2BAAON,MAAOD,EAAMQ,QAASL,SAAUH,EAAMS,mBAAmB,6BADvE,UAES,2BAAOR,MAAOD,EAAMU,UAAWP,SAAUH,EAAMW,qBAAqB,6BAC3E,4BAAQC,KAAK,UAAb,UAMFC,EAAc,SAACb,GACjB,OACE,6BACGA,EAAMc,cAAcC,KAAI,SAAC7B,GAAD,OACvB,kBAAC,EAAD,CAAQ8B,IAAK9B,EAAOU,GAAIV,OAAQA,EAAQC,aAAca,EAAMb,oBAMvD8B,EArJH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEgBF,mBAAS,IAFzB,mBAERV,EAFQ,KAECa,EAFD,OAGoBH,mBAAS,IAH7B,mBAGRR,EAHQ,KAGGY,EAHH,OAIkBJ,mBAAS,IAJ3B,mBAIThB,EAJS,KAIEqB,EAJF,OAKwBL,mBAAS,MALjC,mBAKTM,EALS,KAKKC,EALL,KAQhBC,qBAAU,WACRC,IAECC,MAAK,SAAAC,GACJT,EAAWS,EAASC,WAErB,IAEH,IA6DMhB,EAAgBK,EAAQY,QAAO,SAAA7C,GAAM,OAAIA,EAAOE,KAAK4C,cAAcC,SAAS/B,EAAU8B,kBA4B5F,OACE,6BACE,yCACA,mBAdiB,SAAC,GAAiB,IAAfE,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAGP,yBAAKC,UAAU,SACZD,KAQH,CAAcA,QAASV,IACvB,kBAAC,EAAD,CAAQtB,UAAWA,EAAWE,mBApBP,SAACgC,GAC1BC,QAAQC,IAAIF,EAAMG,OAAOtC,OACzBsB,EAAaa,EAAMG,OAAOtC,UAmBxB,yCACA,kBAAC,EAAD,CAAeM,UAzED,SAAC6B,GAEjB,GADYjB,EAAQJ,KAAI,SAAC7B,GAAD,OAAYA,EAAOE,QACjC6C,SAASzB,GAAU,CAC3B,GAAIgC,OAAOC,QAAP,UAAkBjC,EAAlB,4EAZa,SAACZ,EAAI8C,GACxB,IAAMxD,EAASiC,EAAQwB,MAAK,SAAAC,GAAC,OAAIA,EAAEhD,KAAOA,KACpCiD,EAAa,eAAQ3D,EAAR,CAAgBG,OAAQqD,IAC3CL,QAAQC,IAAIO,GACZlB,EAAqB/B,EAAIiD,GAAejB,MAAK,SAAAC,GAC3CT,EAAWD,EAAQJ,KAAI,SAAA+B,GAAI,OAAIA,EAAKlD,KAAOA,EAAKkD,EAAOjB,EAASC,YAS9DiB,CADkB5B,EAAQwB,MAAK,SAAAC,GAAC,OAAIA,EAAExD,OAASoB,KAASZ,GAChCc,GACxBe,EAAgB,WAAD,OACFjB,EADE,aAGfwC,YAAW,WACTvB,EAAgB,QACf,UAEDW,EAAMa,qBAEL,CACHb,EAAMa,iBACN,IAAMC,EAAe,CACjB9D,KAAMoB,EACNnB,OAAQqB,GAEZU,EAAWD,EAAQgC,OAAOD,IAC1B7B,EAAW,IACXC,EAAa,IACbK,EACUuB,GACPtB,MAAK,SAAAC,GACJT,EAAWD,EAAQgC,OAAOtB,EAASC,OACnCT,EAAW,IACXC,EAAa,OAEjBG,EAAgB,SAAD,OACJjB,IAEXwC,YAAW,WACTvB,EAAgB,QACf,OAqCgCjB,QAASA,EAASC,iBAhClC,SAAC2B,GACxBC,QAAQC,IAAIF,EAAMG,OAAOtC,OACzBoB,EAAWe,EAAMG,OAAOtC,QA8BqES,UAAWA,EAAWC,mBA3B1F,SAACyB,GAC1BC,QAAQC,IAAIF,EAAMG,OAAOtC,OACzBqB,EAAac,EAAMG,OAAOtC,UA0BxB,uCACA,kBAAC,EAAD,CAAaa,cAAeA,EAAe3B,aAjG1B,SAACD,GAChBsD,OAAOC,QAAP,iBAAyBvD,EAAOE,KAAhC,SACFuC,EAAqBzC,EAAOU,IAC5BwB,EAAWD,EAAQY,QAAO,SAAAqB,GAAO,OAAIA,EAAQxD,KAAOV,EAAOU,OAC3D6B,EAAgB,WAAD,OACFvC,EAAOE,OAEpB4D,YAAW,WACTvB,EAAgB,QACf,W,MCxBT4B,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.318d75c3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ( {person, removePerson} ) => {\n  return (\n    <div>\n      {person.name} {person.number} \n      <button onClick={() => removePerson(person)}>\n        delete\n      </button>\n    </div>\n  )\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update, \n  remove: remove\n}","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(response => {\n      setPersons(response.data)\n      })\n  }, [])\n\n  const removePerson = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService.remove(person.id)\n      setPersons(persons.filter(person2 => person2.id !== person.id))\n      setErrorMessage(\n        `Removed ${person.name}`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)  \n    }\n  }\n\n  const changeNumber = (id, changedNumber) => {\n    const person = persons.find(n => n.id === id)\n    const changedPerson = { ...person, number: changedNumber }\n    console.log(changedPerson)\n    personService.update(id, changedPerson).then(response => {\n      setPersons(persons.map(pers => pers.id !== id ? pers : response.data))\n    })\n  }\n\n  const addPerson = (event) => {\n    var names = persons.map((person) => person.name)\n    if (names.includes(newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const currentId = persons.find(n => n.name === newName).id\n        changeNumber(currentId, newNumber)\n        setErrorMessage(\n          `Changed ${newName}s number`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)          \n      } else {\n          event.preventDefault()\n      }\n    } else {\n        event.preventDefault()\n        const personObject = {\n            name: newName,\n            number: newNumber,\n        }\n        setPersons(persons.concat(personObject))\n        setNewName('')\n        setNewNumber('')\n        personService\n          .create(personObject)\n          .then(response => {\n            setPersons(persons.concat(response.data))\n            setNewName('')\n            setNewNumber('')\n          })\n        setErrorMessage(\n          `Added ${newName}`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)          \n    }\n  }\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setNewFilter(event.target.value)\n  }\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <AddPersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <ShowNumbers personsToShow={personsToShow} removePerson={removePerson}/>\n    </div>\n  )\n\n}\n\nconst Filter = (props) => {\n  return (\n    <div>\n      filter shown with:<input value={props.newFilter} onChange={props.handleFilterChange}/>\n    </div>\n  )\n}\n\nconst AddPersonForm = (props) => {\n  return (\n    <div>\n      <form onSubmit={props.addPerson}>\n        name:<input value={props.newName} onChange={props.handleNameChange}/><br></br>\n        number:<input value={props.newNumber} onChange={props.handleNumberChange}/><br></br>\n        <button type=\"submit\">add</button>\n      </form>\n    </div>\n  )\n}\n\nconst ShowNumbers = (props) => {\n    return (\n      <div>\n        {props.personsToShow.map((person) =>\n          <Person key={person.id} person={person} removePerson={props.removePerson} /> \n        )}\n      </div>\n    )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}